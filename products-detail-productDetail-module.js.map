{"version":3,"sources":["webpack:///./src/app/products/detail/productDetail.module.ts","webpack:///./src/app/products/detail/productDetail.page.html","webpack:///./src/app/products/detail/productDetail.page.scss","webpack:///./src/app/products/detail/productDetail.page.ts"],"names":[],"mappings":"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","file":"products-detail-productDetail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { ProductDetailPage } from './productDetail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ProductDetailPage\n      }\n    ])\n  ],\n  declarations: [ProductDetailPage]\n})\nexport default class ProductDetailPageModule { }\n","module.exports = \"<div class=\\\"page main-bg main-bg-1-clean\\\">\\n  <div class=\\\"main-content\\\">\\n    <div class=\\\"desc2\\\">\\n      <div class=\\\"desc-title\\\">{{product.descTitle}}</div>\\n      <div>{{product.desc}}</div>\\n    </div>\\n\\n    <ion-slides pager=\\\"true\\\" autoplay=\\\"2000\\\" class=\\\"slides\\\" (ionSlideDidChange)=\\\"onSlideChange()\\\">\\n      <ion-slide *ngFor=\\\"let slide of slides\\\">\\n        <img src=\\\"{{slide.image}}\\\" class=\\\"slide-image\\\">\\n      </ion-slide>\\n    </ion-slides>\\n\\n    <div class=\\\"desc\\\">\\n      <div class=\\\"desc-title\\\">{{slideDesc.title}}</div>\\n      <div class=\\\"desc-content\\\">\\n        {{slideDesc.desc}}\\n      </div>\\n    </div>\\n\\n    <div class=\\\"close\\\">\\n      <ion-icon name=\\\"ios-close-circle-outline\\\" class=\\\"close-icon\\\" (click)=\\\"goBack()\\\"></ion-icon>\\n    </div>\\n\\n    <div class=\\\"cart\\\">\\n      <img src=\\\"{{product.image}}\\\" class=\\\"cart-image\\\">\\n      <div class=\\\"cart-detail\\\">\\n        <div class=\\\"cart-title\\\">{{product.id}}</div>\\n        <div class=\\\"cart-detail-content\\\">\\n          <div>\\n            <div class=\\\"cart-label\\\">\\n              单价：<span class=\\\"cart-price\\\">￥{{product.price}}</span>\\n            </div>\\n          </div>\\n          <div>\\n            <div class=\\\"cart-input\\\">\\n              <div>数量：</div>\\n              <div class=\\\"stepperInput\\\">\\n                <button class=\\\"button button--addOnLeft\\\" (click)=\\\"minus('packet')\\\">-</button>\\n                <input type=\\\"text\\\" value=\\\"{{packetNum}}\\\" class=\\\"input stepperInput__input\\\" disabled/>\\n                <button class=\\\"button button--addOnRight\\\" (click)=\\\"add('packet')\\\">+</button>\\n              </div>\\n              <div>包</div>\\n            </div>\\n            <div class=\\\"cart-input\\\">\\n              <div style=\\\"visibility: hidden\\\">数量：</div>\\n              <div class=\\\"stepperInput\\\">\\n                <button class=\\\"button button--addOnLeft\\\" (click)=\\\"minus('carton')\\\">-</button>\\n                <input type=\\\"text\\\" value=\\\"{{cartonNum}}\\\" class=\\\"input stepperInput__input\\\" disabled/>\\n                <button class=\\\"button button--addOnRight\\\" (click)=\\\"add('carton')\\\">+</button>\\n              </div>\\n              <div>条</div>\\n            </div>\\n            <div>合计：<span class=\\\"cart-price cart-price-total\\\">￥{{total}}</span></div>\\n          </div>\\n        </div>\\n        <div class=\\\"cart-opts\\\">\\n          <div *ngIf=\\\"!added\\\" (click)=\\\"addToCart()\\\" class=\\\"cart-opts-btn\\\">添加到购物车</div>\\n          <div *ngIf=\\\"added\\\" (click)=\\\"goToCart()\\\" class=\\\"cart-opts-btn\\\">去购物车结算</div>\\n          <div *ngIf=\\\"added\\\" (click)=\\\"goBack()\\\" class=\\\"cart-opts-btn\\\">继续购买</div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"desc2\\\">\\n      <div class=\\\"desc-title\\\">{{product.descTitle}}</div>\\n      <div>{{product.desc}}</div>\\n    </div>\\n  </div>\\n</div>\"","module.exports = \".page {\\n  height: 100%;\\n  width: 100%;\\n  flex: 1;\\n  display: flex;\\n  color: #000;\\n  overflow: auto;\\n  font-size: 20px; }\\n\\n.main-bg {\\n  height: 100%;\\n  width: 100%;\\n  flex: 1;\\n  background-repeat: no-repeat;\\n  background-size: 100% 100%; }\\n\\n.main-bg-1 {\\n  background-image: url(\\\"/assets/bg/bg1.jpg\\\"); }\\n\\n.main-bg-1-clean {\\n  background-image: url(\\\"/assets/bg/bg1_clean.jpg\\\"); }\\n\\n.main-bg-2 {\\n  background-image: url(\\\"/assets/bg/bg2.jpg\\\"); }\\n\\n.main-bg-3 {\\n  background-image: url(\\\"/assets/bg/bg3.jpg\\\"); }\\n\\n.close {\\n  height: 100px;\\n  width: 100%; }\\n\\n.close-icon {\\n  font-size: 66px;\\n  float: right; }\\n\\n.stepperInput {\\n  display: flex;\\n  height: 40px;\\n  line-height: 40px;\\n  font-size: 24px; }\\n\\n.stepperInput__input {\\n  border-left: 0;\\n  border-right: 0;\\n  width: 52px;\\n  text-align: center; }\\n\\n.button {\\n  cursor: pointer;\\n  width: 43px;\\n  font-size: 24px;\\n  color: RGBA(75, 62, 39, 1);\\n  background-color: RGBA(163, 139, 80, 1);\\n  border: 1px solid RGBA(163, 139, 80, 1); }\\n\\n.button--addOnLeft {\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0; }\\n\\n.button--addOnRight {\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0; }\\n\\n.input {\\n  background: transparent;\\n  border: 1px solid RGBA(163, 139, 80, 1);\\n  padding: 0 10px;\\n  border-radius: 0;\\n  box-shadow: none; }\\n\\n.main-content {\\n  margin-top: 454px;\\n  margin-left: 100px;\\n  margin-right: 100px;\\n  height: 2157px;\\n  width: 756px;\\n  position: relative; }\\n\\n.slides {\\n  height: 482px;\\n  width: 100%;\\n  margin-top: 54px; }\\n\\n.slide-image {\\n  height: 100%; }\\n\\n.desc {\\n  height: 264px;\\n  width: 100%;\\n  padding-top: 20px;\\n  font-size: 24px;\\n  display: flex;\\n  flex-direction: column; }\\n\\n.cart {\\n  height: 385px;\\n  margin-bottom: 54px;\\n  padding: 35px;\\n  width: 100%;\\n  border: 1px solid RGBA(163, 139, 80, 1);\\n  border-radius: 10px;\\n  display: flex; }\\n\\n.cart .cart-image {\\n    width: 204px; }\\n\\n.cart .cart-detail {\\n    flex: 1;\\n    display: flex;\\n    flex-direction: column;\\n    margin-left: 36px; }\\n\\n.cart .cart-detail .cart-title {\\n      font-size: 54px; }\\n\\n.cart .cart-detail .cart-price {\\n      font-size: 44px; }\\n\\n.cart .cart-detail .cart-price-total {\\n      color: red; }\\n\\n.cart .cart-detail .cart-input {\\n      display: flex;\\n      margin-top: 20px;\\n      margin-bottom: 10px;\\n      line-height: 36px; }\\n\\n.cart .cart-detail .cart-input > .stepperInput {\\n        margin: 0 10px 0 20px; }\\n\\n.cart .cart-detail-content {\\n    flex: 1;\\n    display: flex;\\n    justify-content: space-between; }\\n\\n.cart .cart-opts {\\n    display: flex;\\n    flex-direction: row-reverse; }\\n\\n.cart .cart-opts-btn {\\n    margin-top: 10px;\\n    border-radius: 40px;\\n    border: 1px solid RGBA(163, 139, 80, 1);\\n    padding: 4px 40px;\\n    font-size: 20px;\\n    margin-left: 20px; }\\n\\n.desc2 {\\n  width: 100%;\\n  padding: 35px;\\n  border: 1px solid RGBA(163, 139, 80, 1);\\n  border-radius: 10px;\\n  font-size: 24px; }\\n\\n.desc-title {\\n  font-size: 40px;\\n  text-align: center;\\n  margin-bottom: 20px;\\n  flex-shrink: 0; }\\n\\n.desc-content {\\n  overflow: auto; }\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Slides } from '@ionic/angular';\nimport { ProductService } from '../products.service';\nimport { CartService } from '../../cart/cart.service';\nimport { Product } from '../product';\n\n@Component({\n  selector: 'app-productDetail',\n  templateUrl: 'productDetail.page.html',\n  styleUrls: ['productDetail.page.scss'],\n})\nexport class ProductDetailPage implements OnInit {\n  slides: any[];\n  @ViewChild(Slides) slideInstance: Slides;\n  product: Product;\n  packetNum = 0;\n  cartonNum = 0;\n  total = '0';\n  added = false;\n  slideOpts = { slidesPerView: 'auto', effect: 'flip'  };\n  slideDesc = {\n    title: '',\n    desc: '',\n  };\n\n  constructor(\n    private service: ProductService,\n    private activeRoute: ActivatedRoute,\n    private router: Router,\n    private location: Location,\n    private cartService: CartService,\n  ) {\n  }\n\n  ngOnInit(): void {\n    const routeParams = this.activeRoute.snapshot.params;\n    this.product = this.service.getProduct(routeParams.id);\n    this.slides = this.product.slides;\n    this.added = false;\n    this.onSlideChange();\n    this.slideInstance.startAutoplay();\n  }\n\n  async onSlideChange() {\n    const currentIndex = await this.slideInstance.getActiveIndex();\n    this.slideDesc.title = this.slides[currentIndex].title;\n    this.slideDesc.desc = this.slides[currentIndex].desc;\n  }\n\n  minus(type: String): void {\n    if (this.added) {\n      return;\n    }\n    if (type === 'packet') {\n      this.packetNum--;\n      if (this.packetNum < 0 ) {\n        this.packetNum = 0;\n      }\n    }\n    if (type === 'carton') {\n      this.cartonNum = this.cartonNum - 1;\n      if (this.cartonNum < 0) {\n        this.cartonNum = 0;\n      }\n    }\n    this.calc();\n  }\n\n  add(type: string): void {\n    if (this.added) {\n      return;\n    }\n    if (type === 'packet') {\n      this.packetNum++;\n    }\n    if (type === 'carton') {\n      this.cartonNum++;\n    }\n    this.calc();\n  }\n\n  calc() {\n    this.total = ((this.product.price as number) * (this.packetNum + this.cartonNum * 10)).toFixed(2);\n  }\n\n  addToCart() {\n    if (parseInt(this.total, 10) === 0) {\n      return;\n    }\n    this.added = true;\n    this.cartService.add({\n      id: this.product.id,\n      cartonNum: this.cartonNum,\n      packetNum: this.packetNum,\n    })\n  }\n  goToCart() {\n    this.router.navigate(['/cart']);\n  }\n  goBack() {\n    this.location.back();\n  }\n}\n"],"sourceRoot":""}